<!DOCTYPE>
<html>

<head>
        <script
                src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js">
        </script>
</head>

<body style = "background: url('imgs/konbini.jpg') no-repeat center center fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;">
<p style="color: white; font-size: 30px; text-align: center">You're working the graveyard shift at a gas station when a man walks in asking for some cash to help him get home. Select A to help or select B to not help.</p>


        <script>
                $(document).ready(function () {
                        console.log("document ready!");
                        var map;
                        var currentState = "Start";
                        //var Next = "";
                        $.getJSON("./data/game.json", function(data){
                                console.log(data);
                                map = data;
                        });

                        document.onkeydown = function (e) {
                        console.log("bang");
                                switch(e.which){
                                        //A
                                        case 65:
                                                Next = "A";
                                                NextState = map[currentState]["next_state"][0]["A"];
                                                currentState = NextState;
                                                $("p").text(map[currentState]["text"]);
                                                $('body').css('background-image', "url('" + map[currentState]['Img'] + "')");
                                                break;

                                        //B
                                        case 66:
                                                Next = "B";
                                                NextState = map[currentState]["next_state"][0]["B"];
                                                currentState = NextState;
                                                $("p").text(map[currentState]["text"]);
                                                $('body').css('background-image', "url('" + map[currentState]['Img'] + "')");
                                                break;

                                        default:
                                                break;
                                  }
                                  e.preventDefault();
                                }

                });

        </script>

</body>

</html>
